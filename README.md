# れどみだよ。読んでね。
# 必要なライブラリとそのインストールコマンド
## OpenCV
pip install opencv-python

## NumPy
pip install numpy

## Matplotlib
pip install matplotlib

## Tkinter（Python標準ライブラリなので通常は不要、Ubuntuの場合は以下でインストール）
sudo apt-get install python3-tk

# 食べさせるファイルの注意点
・画面の、ライトが海を照らして明るくなっているすべての範囲のみ動画にしてください。（間にポールがあったりするとまずい）

・明るいところ飲み切り抜いてもまずい

・ポールがあったりした場合は、ポールの部分を切り取るとかしてライトで照らされている
# 大まかな仕組み
1. 動画ファイルの選択
TkinterのGUIで動画ファイルを選択します。

2. 保存先ディレクトリ・ファイル名・深度の入力
保存先ディレクトリ、CSVファイル名、深度（分析する区間数）を入力します。

3. 動画の総フレーム数を取得
count_total_frames関数で動画の総フレーム数を取得します。

4. フレーム抽出間隔の計算
入力された深度とscale値から、何フレームごとに画像を抽出するか（interval）を計算します。

5. フレーム抽出
extract_frames関数で、intervalごとにフレームを抽出します。

6. フレームの処理
抽出した各フレームをグレースケール化し、指定した閾値で二値化します（binarize_frame）。

7. 白いピクセルの割合計算
二値化画像の白いピクセルの割合を計算します（calculate_white_ratio）。

8. 結果の可視化
白いピクセルの割合をグラフで表示します（plot_ratios）。

9. CSV保存
各フレームごとの白いピクセル割合などの情報をCSVファイルとして保存します（save_ratios_to_csv）。

情報の流れまとめ
ユーザー入力（動画・保存先・深度・ファイル名）
動画→フレーム抽出→画像処理→割合計算
グラフ表示・CSV保存
この流れで、動画内の白いピクセルの割合（＝浮遊物の概算）を区間ごとに算出・記録します。

# 出力ファイルの読み方

| 列名         | 内容説明                       |
|--------------|-------------------------------|
| Number       | 行番号                      |
| Threshold    | 白と黒の閾値（列すべて同じ値なんて意味があるのかだって？知らんな。）                  |
| Interval    | 何秒おきに切り取ったかの値（列すべて同じ(ry)） |
| Frame        |処理した画像が何フレーム目かの値             |
| （事前に入力したファイル名）|肝心の値。処理が終わったときに出てくるグラフは、これを縦軸、Numberを横軸にとってある（はず）             |

# 出力ファイルの使い方
(事前に入力したファイル名)の行をコピーして、他の深度のデータもある親ファイルに新規の行として貼り付けると
行番号がそのまま震度と比例してるから（１行５ｍとかだった気がする）そのまま比較できる。

# 質問・問題等
https://github.com/kuronos357/marine-object-counter/issues/new
ここからissuesを頼みます。
